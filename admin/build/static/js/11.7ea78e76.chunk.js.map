{"version":3,"sources":["../static/js/11.7ea78e76.chunk.js","views/AdminKecamatan/CetakDokumen/CetakDokumen.js"],"names":["webpackJsonp","543","module","__webpack_exports__","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_reactstrap__","__WEBPACK_IMPORTED_MODULE_2_react_table__","__WEBPACK_IMPORTED_MODULE_3_react_spinners__","__WEBPACK_IMPORTED_MODULE_4_react_table_react_table_css__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","CetakDokumen","_Component","this","_this","getPrototypeOf","handleChange","e","setState","name","surat_permohonan","items","no_surat_permohonan","url","sessionStorage","getItem","tanggal_surat_permohonan","nama_pewaris","alamat_ahli_waris","tanggal_wafat","nama_almarhum","tanggal_lahir_alm","tgllhr_ahli_waris","jenis_kelamin","nama_tpu","alamat_terakhir","tanggal_pemakaman","kode_blok","window","location","modalnosuratclose","alert","cetak_dokumen","no_surat_perizinan","tanggal_surat_perizinin","id_kecamatan","bind","get_tanggal_sekarang","update_no_surat_perizinan","fetchview","state","radioSelected","isLoaded","activenamapenghuni","activenamapewaris","activetanggal","activetanggal_sekarang","activenik_ahli_waris","activekontak_ahli_waris","activenosurat","no_surat","_this2","fetch","then","response","json","console","log","months","date","Date","day","getDate","month","getMonth","yy","getYear","id","_this3","method","headers","Accept","Content-Type","body","JSON","stringify","status","responsejson","catch","err","nosuratmodal","_this4","a","createElement","className","isOpen","toggle","onSubmit","class","type","onChange","onClick","data","resolveData","map","row","filterable","defaultPageSize","columns","accessor","show","Header","Cell","color","style","display","justifyContent","margin"],"mappings":"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","file":"static/js/11.7ea78e76.chunk.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 543:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_reactstrap__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_table__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_spinners__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_spinners___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_spinners__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_table_react_table_css__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_table_react_table_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react_table_react_table_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CetakDokumen=function(_Component){_inherits(CetakDokumen,_Component);function CetakDokumen(props){_classCallCheck(this,CetakDokumen);var _this=_possibleConstructorReturn(this,(CetakDokumen.__proto__||Object.getPrototypeOf(CetakDokumen)).call(this,props));_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.surat_permohonan=function(items){if(items.no_surat_permohonan!=null){var url='http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_permohonan?token='+sessionStorage.getItem('token')+'&tanggal_sekarang='+items.tanggal_surat_permohonan+'&nama_ahli_waris='+items.nama_pewaris+'&alamat_ahli_waris='+items.alamat_ahli_waris+'&tanggal_wafat='+items.tanggal_wafat+'&nama_almarhum='+items.nama_almarhum+'&ttl_almarhum='+items.tanggal_lahir_alm+'&ttl_ahli_waris='+items.tgllhr_ahli_waris+'&jenis_kelamin_almarhum='+items.jenis_kelamin+'&tpu_almarhum='+items.nama_tpu+'&alamat_almarhum='+items.alamat_terakhir+'&tanggal_pemakaman='+items.tanggal_pemakaman+'&blok_almarhum='+items.kode_blok+'&no_surat_permohonan='+items.no_surat_permohonan;window.location=url;_this.modalnosuratclose;}else{alert(\"nomor surat permohonan masih kosong!\");}};_this.cetak_dokumen=function(items){// event.preventDefault();\nif(items.no_surat_perizinan!=null){//alert(items.no_surat_perizinan)\nvar url='http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_perizinan?token='+sessionStorage.getItem('token')+'&tanggal_sekarang='+items.tanggal_surat_perizinin+'&nama_ahli_waris='+items.nama_pewaris+'&alamat_ahli_waris='+items.alamat_ahli_waris+'&nama_almarhum='+items.nama_almarhum+'&ttl_almarhum='+items.tanggal_lahir_alm+'&jenis_kelamin_almarhum='+items.jenis_kelamin+'&tpu_almarhum='+items.nama_tpu+'&tanggal_pemakaman='+items.tanggal_pemakaman+'&blok_almarhum='+items.kode_blok+'&no_surat_perizinan='+items.no_surat_perizinan+'&no_surat_permohonan='+items.no_surat_permohonan+'&tanggal_surat_permohonan='+items.tanggal_surat_permohonan+'&id_kecamatan='+items.id_kecamatan;window.location=url;}else{alert(\"nomor surat perizinan masih kosong!\");}};_this.cetak_dokumen=_this.cetak_dokumen.bind(_this);_this.modalnosuratclose=_this.modalnosuratclose.bind(_this);_this.get_tanggal_sekarang=_this.get_tanggal_sekarang.bind(_this);_this.update_no_surat_perizinan=_this.update_no_surat_perizinan.bind(_this);_this.fetchview=_this.fetchview.bind(_this);// this.get_active_row = this.get_active_row.bind(this);\n_this.state={radioSelected:2,isLoaded:false,items:[],activenamapenghuni:null,activenamapewaris:null,activetanggal:null,activetanggal_sekarang:null,activenik_ahli_waris:null,activekontak_ahli_waris:null,activenosurat:[],no_surat:null};return _this;}_createClass(CetakDokumen,[{key:'componentDidMount',value:function componentDidMount(){this.fetchview();}},{key:'fetchview',value:function fetchview(){var _this2=this;fetch(\"http://api.emakam.tujuhlangit.id/api/dokumen/view_siap_cetak?token=\"+sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user')).then(function(response){return response.json();}).then(function(json){console.log(json);_this2.setState({isLoaded:true,items:json});});}},{key:'get_tanggal_sekarang',value:function get_tanggal_sekarang(){var months=['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','Oktober','November','Desember'];// var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];\nvar date=new Date();var day=date.getDate();var month=date.getMonth();// var thisDay = date.getDay(),\n//   thisDay = myDays[thisDay];\nvar yy=date.getYear();var year=yy<1000?yy+1900:yy;return day+' '+months[month]+' '+year;}},{key:'update_no_surat_perizinan',value:function update_no_surat_perizinan(id){var _this3=this;fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,status:'Proses Selesai',no_surat_perizinan:this.state.no_surat,tanggal_surat_perizinin:this.get_tanggal_sekarang()})}).then(function(response){return response.json();}).then(function(responsejson){alert('Nomor Surat telah tersimpan');}).then(this.fetchview).then(this.modalnosuratclose).catch(function(err){_this3.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});}},{key:'nosuratmodal',value:function nosuratmodal(items){this.setState({activenosurat:items,nosuratmodal:!this.state.nosuratmodal});}},{key:'modalnosuratclose',value:function modalnosuratclose(){this.setState({nosuratmodal:!this.state.nosuratmodal});}},{key:'render',value:function render(){var _this4=this;// console.log(this.state.items);\nif(!this.state.isLoaded){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{display:'flex',justifyContent:'center',margin:100}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'sweet-loading'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_spinners__[\"RingLoader\"],{color:'#123abc'})));}else{return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'animated fadeIn'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.nosuratmodal,toggle:this.modalnosuratclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalnosuratclose},'No Surat'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('form',{className:'form-group',onSubmit:''},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{'class':'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'No Surat'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'text',className:'form-control',onChange:this.handleChange,name:'no_surat'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"d\" /* Button */],{onClick:function onClick(){return _this4.update_no_surat_perizinan(_this4.state.activenosurat.id);}},'Simpan'))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"h\" /* Col */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"e\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"g\" /* CardHeader */],null,'Cetak Dokumen'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"f\" /* CardBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_table__[\"a\" /* default */],{data:this.state.items,resolveData:function resolveData(data){return data.map(function(row){return row;});},filterable:true,defaultPageSize:10,columns:[{accessor:'id',show:false},{accessor:'id_kecamatan',show:false},{accessor:'nama_almarhum',show:false},{accessor:'no_surat_perizinan',show:false},{accessor:'tanggal_surat_permohonan',show:false},{accessor:'tanggal_surat_perizinin',show:false},{accessor:'no_surat_permohonan',show:false},{accessor:'nik_ahli_waris',show:false},{accessor:'alamat_ahli_waris',show:false},{accessor:'tanggal_wafat',show:false},{accessor:'tanggal_lahir_alm',show:false},{accessor:'tanggal_pemakaman',show:false},{accessor:'tgllhr_ahli_waris',show:false},{accessor:'jenis_kelamin',show:false},{accessor:'nama_tpu',show:false},{accessor:'alamat_terakhir',show:false},{accessor:'kode_blok',show:false},{Header:'Kode Registrasi',accessor:'kode_registrasi'// String-based value accessors!\n},{Header:'Nomor Surat Izin',accessor:'no_surat_perizinan'// String-based value accessors!\n},{Header:'Nomor Surat Permohonan',accessor:'no_surat_permohonan'// String-based value accessors!\n},{Header:'Nama Almarhum',accessor:'nama_almarhum'// String-based value accessors!\n},{Header:'Nama Pewaris',accessor:'nama_pewaris'// String-based value accessors!\n},{Header:'Tanggal Wafat',accessor:'tanggal_wafat'// String-based value accessors!\n},{Header:'Kelengkapan Dokumen',accessor:'kelengkapan_dokumen',// String-based value accessors!\nshow:false},{Header:'Action',filterable:false,show:sessionStorage.getItem('login_session')==5?true:false,// accessor: 'status', // String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this4.nosuratmodal(row.row);},className:'mr-1'},'Atur'));}},{Header:'Unduh Surat Permohonan',filterable:false,// accessor: 'status', // String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this4.surat_permohonan(row.row);},className:'mr-1'},'Unduh Dokumen'));}},{Header:'Unduh Surat Izin',filterable:false,// accessor: 'status', // String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this4.cetak_dokumen(row.row);},className:'mr-1'},'Unduh Dokumen'));}}]}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null))))));}}}]);return CetakDokumen;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (CetakDokumen);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/11.7ea78e76.chunk.js","import React, { Component } from 'react';\r\nimport {\r\n  Badge,\r\n  Button,\r\n  ButtonDropdown,\r\n  ButtonGroup,\r\n  ButtonToolbar,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n  Col,\r\n  Dropdown,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  DropdownToggle,\r\n  Progress,\r\n  Row,\r\n  Table,\r\n  Modal,\r\n  ModalBody,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  Form,\r\n  FormGroup,\r\n  FormText,\r\n  FormFeedback,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  Label,\r\n} from 'reactstrap';\r\nimport ReactTable from \"react-table\";\r\nimport { RingLoader } from 'react-spinners';\r\nimport 'react-table/react-table.css'\r\n\r\nclass CetakDokumen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.cetak_dokumen = this.cetak_dokumen.bind(this);\r\n    this.modalnosuratclose = this.modalnosuratclose.bind(this);\r\n    this.get_tanggal_sekarang = this.get_tanggal_sekarang.bind(this);\r\n    this.update_no_surat_perizinan = this.update_no_surat_perizinan.bind(this);\r\n    this.fetchview = this.fetchview.bind(this);\r\n\r\n    // this.get_active_row = this.get_active_row.bind(this);\r\n\r\n    this.state = {\r\n      radioSelected: 2,\r\n      isLoaded: false,\r\n      items: [],\r\n      activenamapenghuni: null,\r\n      activenamapewaris: null,\r\n      activetanggal: null,\r\n      activetanggal_sekarang: null,\r\n      activenik_ahli_waris: null,\r\n      activekontak_ahli_waris: null,\r\n\r\n      activenosurat:[],\r\n\r\n      no_surat:null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchview()\r\n  }\r\n\r\n  fetchview(){\r\n      fetch(\"http://api.emakam.tujuhlangit.id/api/dokumen/view_siap_cetak?token=\" + sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user'))\r\n      .then(response => {\r\n        return response.json()\r\n      })\r\n      .then(\r\n        (json) => {\r\n          console.log(json);\r\n          \r\n          this.setState({\r\n            isLoaded: true,\r\n            items: json,\r\n          });\r\n        },\r\n    )\r\n  }\r\n\r\n  \r\n\r\n  get_tanggal_sekarang() {\r\n    var months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];\r\n    // var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];\r\n    var date = new Date();\r\n    var day = date.getDate();\r\n    var month = date.getMonth();\r\n    // var thisDay = date.getDay(),\r\n    //   thisDay = myDays[thisDay];\r\n    var yy = date.getYear();\r\n    var year = (yy < 1000) ? yy + 1900 : yy;\r\n    return (day + ' ' + months[month] + ' ' + year);\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n\r\n  surat_permohonan = (items) =>{\r\n    if(items.no_surat_permohonan!=null){\r\n      const url = 'http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_permohonan?token=' + sessionStorage.getItem('token')\r\n      + '&tanggal_sekarang=' + items.tanggal_surat_permohonan\r\n      + '&nama_ahli_waris=' + items.nama_pewaris\r\n      + '&alamat_ahli_waris=' + items.alamat_ahli_waris\r\n      + '&tanggal_wafat=' + items.tanggal_wafat\r\n      + '&nama_almarhum=' + items.nama_almarhum\r\n      + '&ttl_almarhum=' + items.tanggal_lahir_alm\r\n      + '&ttl_ahli_waris=' + items.tgllhr_ahli_waris\r\n      + '&jenis_kelamin_almarhum=' + items.jenis_kelamin\r\n      + '&tpu_almarhum=' + items.nama_tpu\r\n      + '&alamat_almarhum=' + items.alamat_terakhir\r\n      + '&tanggal_pemakaman=' + items.tanggal_pemakaman\r\n      + '&blok_almarhum=' + items.kode_blok\r\n      + '&no_surat_permohonan=' + items.no_surat_permohonan\r\n      window.location = url;\r\n      this.modalnosuratclose\r\n    }else{\r\n      alert(\"nomor surat permohonan masih kosong!\")\r\n    }\r\n  }\r\n\r\n  cetak_dokumen = (items) => {\r\n    // event.preventDefault();\r\n    if(items.no_surat_perizinan!=null){\r\n      //alert(items.no_surat_perizinan)\r\n      const url = 'http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_perizinan?token=' + sessionStorage.getItem('token')\r\n      +'&tanggal_sekarang='+items.tanggal_surat_perizinin          \r\n      +'&nama_ahli_waris='+items.nama_pewaris\r\n      +'&alamat_ahli_waris='+items.alamat_ahli_waris\r\n      +'&nama_almarhum='+items.nama_almarhum\r\n      +'&ttl_almarhum='+items.tanggal_lahir_alm\r\n      +'&jenis_kelamin_almarhum='+items.jenis_kelamin\r\n      +'&tpu_almarhum='+items.nama_tpu\r\n      +'&tanggal_pemakaman='+items.tanggal_pemakaman\r\n      +'&blok_almarhum='+items.kode_blok\r\n      +'&no_surat_perizinan='+items.no_surat_perizinan\r\n      +'&no_surat_permohonan='+items.no_surat_permohonan\r\n      +'&tanggal_surat_permohonan='+items.tanggal_surat_permohonan\r\n      +'&id_kecamatan='+items.id_kecamatan\r\n\r\n      window.location = url;\r\n    }else{\r\n      alert(\"nomor surat perizinan masih kosong!\");\r\n    }\r\n  }\r\n\r\n  update_no_surat_perizinan(id) {\r\n    fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token=' + sessionStorage.getItem('token'), {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id: id,\r\n        status: 'Proses Selesai',\r\n        no_surat_perizinan: this.state.no_surat,\r\n        tanggal_surat_perizinin: this.get_tanggal_sekarang()\r\n      })\r\n    }).then((response) => response.json())\r\n      .then((responsejson) => {\r\n        alert('Nomor Surat telah tersimpan');\r\n      })\r\n      .then(\r\n        this.fetchview\r\n      ).then(\r\n        this.modalnosuratclose\r\n      ).catch((err)=>{\r\n        this.setState({\r\n          isLoaded: false\r\n        })\r\n        alert(\"Permintaan tidak dapat diproses\")\r\n      })\r\n  }\r\n\r\n  nosuratmodal(items) {\r\n    this.setState({\r\n      activenosurat: items,\r\n      nosuratmodal: !this.state.nosuratmodal,\r\n    })\r\n  }\r\n\r\n  modalnosuratclose() {\r\n    this.setState({\r\n      nosuratmodal: !this.state.nosuratmodal,\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    // console.log(this.state.items);\r\n    if (!this.state.isLoaded) {\r\n      return (<div style={{ display: 'flex', justifyContent: 'center', margin: 100 }}>\r\n        <div className='sweet-loading'>\r\n          <RingLoader\r\n            color={'#123abc'}\r\n          />\r\n        </div>\r\n      </div>)\r\n    } else {\r\n      return (\r\n        <div className=\"animated fadeIn\">\r\n        <Modal isOpen={this.state.nosuratmodal} toggle={this.modalnosuratclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalnosuratclose}>No Surat</ModalHeader>\r\n            <ModalBody>\r\n              <form className=\"form-group\" onSubmit=''>\r\n                <div class=\"form-group\">\r\n                <label>No Surat</label>\r\n                <input type=\"text\" className=\"form-control\" onChange={this.handleChange} name=\"no_surat\"></input><br/>\r\n                <Button onClick={()=>this.update_no_surat_perizinan(this.state.activenosurat.id)}>Simpan</Button>\r\n                </div>\r\n              </form>\r\n            </ModalBody>\r\n          </Modal>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <CardHeader>\r\n                  Cetak Dokumen\r\n              </CardHeader>\r\n                <CardBody>\r\n                  <ReactTable\r\n                    data={this.state.items}\r\n                    resolveData={data => data.map(row => row)}\r\n                    filterable\r\n                    defaultPageSize={10}\r\n                    columns={[\r\n                      { accessor: 'id', show: false },\r\n                      { accessor: 'id_kecamatan', show: false },\r\n                      { accessor: 'nama_almarhum', show: false },\r\n                      { accessor: 'no_surat_perizinan', show: false },\r\n                      { accessor: 'tanggal_surat_permohonan', show: false },\r\n                      { accessor: 'tanggal_surat_perizinin', show: false },\r\n                      { accessor: 'no_surat_permohonan', show: false },\r\n                      { accessor: 'nik_ahli_waris', show: false },\r\n                      { accessor: 'alamat_ahli_waris', show: false },\r\n                      { accessor: 'tanggal_wafat', show: false },\r\n                      { accessor: 'tanggal_lahir_alm', show: false },\r\n                      { accessor: 'tanggal_pemakaman', show: false },\r\n                      { accessor: 'tgllhr_ahli_waris', show: false },\r\n                      { accessor: 'jenis_kelamin', show: false },\r\n                      { accessor: 'nama_tpu', show: false },\r\n                      { accessor: 'alamat_terakhir', show: false },\r\n                      { accessor: 'kode_blok', show: false },\r\n                      {\r\n                        Header: 'Kode Registrasi',\r\n                        accessor: 'kode_registrasi', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nomor Surat Izin',\r\n                        accessor: 'no_surat_perizinan', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nomor Surat Permohonan',\r\n                        accessor: 'no_surat_permohonan', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nama Almarhum',\r\n                        accessor: 'nama_almarhum', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nama Pewaris',\r\n                        accessor: 'nama_pewaris', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Tanggal Wafat',\r\n                        accessor: 'tanggal_wafat', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Kelengkapan Dokumen',\r\n                        accessor: 'kelengkapan_dokumen', // String-based value accessors!\r\n                        show: false\r\n                      },\r\n                      {\r\n                        Header: 'Action',\r\n                        filterable:false,\r\n                        show: sessionStorage.getItem('login_session')==5?true:false,\r\n                        // accessor: 'status', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.nosuratmodal(row.row)} className=\"mr-1\">Atur</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Unduh Surat Permohonan',\r\n                        filterable:false,\r\n                        // accessor: 'status', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.surat_permohonan(row.row)} className=\"mr-1\">Unduh Dokumen</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Unduh Surat Izin',\r\n                        filterable:false,\r\n                        // accessor: 'status', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.cetak_dokumen(row.row)} className=\"mr-1\">Unduh Dokumen</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                    ]}\r\n                  />\r\n                  <hr></hr>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default CetakDokumen;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/AdminKecamatan/CetakDokumen/CetakDokumen.js"],"sourceRoot":""}