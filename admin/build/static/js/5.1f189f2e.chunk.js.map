{"version":3,"sources":["../static/js/5.1f189f2e.chunk.js","views/KepalaTPU/Dokumen/Dokumen.js"],"names":["webpackJsonp","542","module","__webpack_exports__","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_2_reactstrap__","__WEBPACK_IMPORTED_MODULE_3__coreui_coreui_plugin_chartjs_custom_tooltips__","__WEBPACK_IMPORTED_MODULE_4__coreui_coreui_dist_js_coreui_utilities__","__WEBPACK_IMPORTED_MODULE_5_react_table__","__WEBPACK_IMPORTED_MODULE_6_react_spinners__","__WEBPACK_IMPORTED_MODULE_7_react_table_react_table_css__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","Search","_Component","this","_this","getPrototypeOf","acc_dinas","event","preventDefault","url","sessionStorage","getItem","get_tanggal_sekarang","state","activenosurat","nama_pewaris","alamat_ahli_waris","tanggal_wafat","nama_almarhum","tanggal_lahir_alm","tgllhr_ahli_waris","jenis_kelamin","nama_tpu","alamat_terakhir","tanggal_pemakaman","kode_blok","no_surat","window","location","update_status_acc_dinas","id","modalnosuratclose","handleChange","e","setState","name","surat_permohonan","items","console","log","no_surat_permohonan","tanggal_surat_permohonan","alert","toggle","bind","toggleclose","modalkkclose","modalktpclose","modalsuratclose","modalskclose","modalsklamaclose","toggleproggress","fetchdata","update_status","acc_kec","acc_kupt","cek_kelengkapan","dropdownOpen","radioSelected","error","isLoaded","isSend","isFiltered","filter_keyword","showitems","itemsperblok","blok","details_almarhum","blokfilter","itemblokfilter","activename","activeqty","activesupplier","formqty","activedata","activektp","activekk","months","date","Date","day","getDate","month","getMonth","yy","getYear","newstatus","fetch","method","headers","Accept","Content-Type","body","JSON","stringify","status","then","response","json","responseJson","_this2","catch","err","row","_this3","email","_this4","kelengkapan_dokumen","_this5","updateitem","filter","item","toLowerCase","search","no_surat_perizinan","_this6","file_sk_lama","a","createElement","color","onClick","modalsklama","className","disabled","modal","file_kk","substring","kkmodal","activesk","file_sk","skmodal","activesklama","sklamamodal","nosuratmodal","file_ktp","ktpmodal","activesurat","file_surat_izin","suratmodal","modalprogress","_this7","isOpen","onSubmit","type","nama","class","onChange","Value","src","alt","data","resolveData","map","defaultPageSize","filterable","columns","accessor","show","Header","Cell","checksuratizin","checksuratpermohonan","width","modalktp","modalkk","modalsk","checksklama","modalsurat","style","display","justifyContent","margin"],"mappings":"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","file":"static/js/5.1f189f2e.chunk.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 542:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_chartjs_2__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_reactstrap__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__coreui_coreui_plugin_chartjs_custom_tooltips__ = __webpack_require__(175);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__coreui_coreui_plugin_chartjs_custom_tooltips___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__coreui_coreui_plugin_chartjs_custom_tooltips__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__coreui_coreui_dist_js_coreui_utilities__ = __webpack_require__(176);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__coreui_coreui_dist_js_coreui_utilities___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__coreui_coreui_dist_js_coreui_utilities__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_table__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_spinners__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_spinners___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_spinners__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_table_react_table_css__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_table_react_table_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_table_react_table_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Search=function(_Component){_inherits(Search,_Component);function Search(props){_classCallCheck(this,Search);var _this=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,props));_this.acc_dinas=function(event){event.preventDefault();var status='Menunggu Persetujuan Kepala Kecamatan';var url='http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_permohonan?token='+sessionStorage.getItem('token')+'&tanggal_sekarang='+_this.get_tanggal_sekarang()+'&nama_ahli_waris='+_this.state.activenosurat.nama_pewaris+'&alamat_ahli_waris='+_this.state.activenosurat.alamat_ahli_waris+'&tanggal_wafat='+_this.state.activenosurat.tanggal_wafat+'&nama_almarhum='+_this.state.activenosurat.nama_almarhum+'&ttl_almarhum='+_this.state.activenosurat.tanggal_lahir_alm+'&ttl_ahli_waris='+_this.state.activenosurat.tgllhr_ahli_waris+'&jenis_kelamin_almarhum='+_this.state.activenosurat.jenis_kelamin+'&tpu_almarhum='+_this.state.activenosurat.nama_tpu+'&alamat_almarhum='+_this.state.activenosurat.alamat_terakhir+'&tanggal_pemakaman='+_this.state.activenosurat.tanggal_pemakaman+'&blok_almarhum='+_this.state.activenosurat.kode_blok+'&no_surat_permohonan='+_this.state.no_surat;window.location=url;_this.update_status_acc_dinas(_this.state.activenosurat.id,status);_this.modalnosuratclose();};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.surat_permohonan=function(items){console.log(items);if(items.no_surat_permohonan!=null){var url='http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_permohonan?token='+sessionStorage.getItem('token')+'&tanggal_sekarang='+items.tanggal_surat_permohonan+'&nama_ahli_waris='+items.nama_pewaris+'&alamat_ahli_waris='+items.alamat_ahli_waris+'&tanggal_wafat='+items.tanggal_wafat+'&nama_almarhum='+items.nama_almarhum+'&ttl_almarhum='+items.tanggal_lahir_alm+'&ttl_ahli_waris='+items.tgllhr_ahli_waris+'&jenis_kelamin_almarhum='+items.jenis_kelamin+'&tpu_almarhum='+items.nama_tpu+'&alamat_almarhum='+items.alamat_terakhir+'&tanggal_pemakaman='+items.tanggal_pemakaman+'&blok_almarhum='+items.kode_blok+'&no_surat_permohonan='+items.no_surat_permohonan;window.location=url;}else{alert(\"nomor surat belum ada\");}};_this.toggle=_this.toggle.bind(_this);_this.toggleclose=_this.toggleclose.bind(_this);_this.modalkkclose=_this.modalkkclose.bind(_this);_this.modalktpclose=_this.modalktpclose.bind(_this);_this.modalsuratclose=_this.modalsuratclose.bind(_this);_this.modalnosuratclose=_this.modalnosuratclose.bind(_this);_this.modalskclose=_this.modalskclose.bind(_this);_this.modalsklamaclose=_this.modalsklamaclose.bind(_this);_this.toggleproggress=_this.toggleproggress.bind(_this);_this.fetchdata=_this.fetchdata.bind(_this);_this.update_status=_this.update_status.bind(_this);_this.acc_kec=_this.acc_kec.bind(_this);_this.acc_dinas=_this.acc_dinas.bind(_this);_this.acc_kupt=_this.acc_kupt.bind(_this);_this.cek_kelengkapan=_this.cek_kelengkapan.bind(_this);_this.state={dropdownOpen:false,radioSelected:2,error:null,isLoaded:false,isSend:false,isFiltered:true,filter_keyword:'',items:[],showitems:[],itemsperblok:[],blok:[],details_almarhum:[],blokfilter:false,itemblokfilter:[],activename:null,activeqty:null,activesupplier:null,formqty:'1',activedata:[],activektp:null,activekk:null,activenosurat:[],no_surat:null};_this.fetchdata();return _this;}_createClass(Search,[{key:'get_tanggal_sekarang',value:function get_tanggal_sekarang(){var months=['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','Oktober','November','Desember'];// var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];\nvar date=new Date();var day=date.getDate();var month=date.getMonth();// var thisDay = date.getDay(),\n//   thisDay = myDays[thisDay];\nvar yy=date.getYear();var year=yy<1000?yy+1900:yy;return day+' '+months[month]+' '+year;}},{key:'update_status',value:function update_status(id,newstatus){fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,status:newstatus})}).then(function(response){return response.json();}).then(function(responseJson){alert('Permintaan telah berhasil diproses');}).then(this.fetchdata);}},{key:'update_status_acc_dinas',value:function update_status_acc_dinas(id,newstatus){var _this2=this;fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,status:newstatus,no_surat_permohonan:this.state.no_surat,tanggal_surat_permohonan:this.get_tanggal_sekarang()})}).then(function(response){return response.json();}).then(function(responseJson){alert('Permohonan izin berhasil diproses');}).then(this.fetchdata).catch(function(err){_this2.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});}},{key:'acc_kec',value:function acc_kec(row){var _this3=this;alert('sistem sedang memproses data dan mencoba mengirim email. tunggu sebentar...');var status='Proses Selesai';fetch('http://api.emakam.tujuhlangit.id/api/send?to='+row.email+'&message=Permohonan izin penggunaan lahan makam anda telah diproses silahkan ke ambil pada kecamatan').then(this.setState({isSend:true})).then(console.log(\"sending\")).catch(function(err){_this3.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});// if (this.state.isSend) {\n//   alert(\"Notification Sent\")\n// }\nthis.update_status(row.id,status);}},{key:'acc_kupt',value:function acc_kupt(id){var status='Menunggu Persetujuan Kepala Dinas';this.update_status(id,status);}},{key:'cek_kelengkapan',value:function cek_kelengkapan(id){var _this4=this;fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,kelengkapan_dokumen:'Lengkap'})}).then(function(response){return response.json();}).then(function(responseJson){alert('Update Sukses');}).catch(function(err){_this4.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});}},{key:'componentDidMount',value:function componentDidMount(){}},{key:'fetchdata',value:function fetchdata(){var _this5=this;fetch(\"http://api.emakam.tujuhlangit.id/api/dokumen/view?token=\"+sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user')+'&role='+sessionStorage.getItem('login_session')).then(function(response){return response.json();}).then(function(json){if(sessionStorage.getItem('login_session')==\"2\"){var updateitem;updateitem=json;updateitem=updateitem.filter(function(item){return item.kelengkapan_dokumen.toLowerCase().search(\"lengkap\")!==-1&&item.status.toLowerCase().search(\"menunggu persetujuan kepala upt\")!==-1;});_this5.setState({showitems:updateitem});}else if(sessionStorage.getItem('login_session')==\"3\"){var updateitem;updateitem=json;updateitem=updateitem.filter(function(item){return item.kelengkapan_dokumen.toLowerCase().search(\"lengkap\")!==-1&&item.status.toLowerCase().search(\"menunggu persetujuan kepala dinas\")!==-1;});_this5.setState({showitems:updateitem});}else if(sessionStorage.getItem('login_session')==\"4\"){var updateitem;updateitem=json;updateitem=updateitem.filter(function(item){return item.kelengkapan_dokumen.toLowerCase().search(\"lengkap\")!==-1&&item.status.toLowerCase().search(\"menunggu persetujuan kepala kecamatan\")!==-1;});_this5.setState({showitems:updateitem});}else{_this5.setState({showitems:json});}_this5.setState({isLoaded:true,items:json});});}},{key:'checksuratpermohonan',value:function checksuratpermohonan(items){if(items.no_surat_permohonan!=null){return items.no_surat_permohonan;}else{return\"-\";}}},{key:'checksuratizin',value:function checksuratizin(items){if(items.no_surat_perizinan!=null){return items.no_surat_perizinan;}else{return\"-\";}}},{key:'checksklama',value:function checksklama(items){var _this6=this;if(items.file_sk_lama!=\"-\"){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{id:'buttonsk',color:'info',onClick:function onClick(){return _this6.modalsklama(items);},className:'mr-1'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'icon-note icons text-left'}));}else{return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{id:'buttonsk',color:'info',disabled:true,onClick:function onClick(){return _this6.modalsklama(items);},className:'mr-1'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'icon-note icons text-left'}));}}},{key:'proggress',value:function proggress(status){return status==\"Menunggu Persetujuan Kepala UPT\"?1:status==\"Menunggu Persetujuan Kepala Dinas\"?2:status==\"Menunggu Persetujuan Kepala Kecamatan\"?3:status==\"Proses Selesai\"?4:0;}},{key:'toggle',value:function toggle(items){this.setState({activedata:items,modal:!this.state.modal});}},{key:'modalkk',value:function modalkk(items){this.setState({activekk:items.file_kk.substring(6),kkmodal:!this.state.kkmodal});}},{key:'modalsk',value:function modalsk(items){this.setState({activesk:items.file_sk.substring(6),skmodal:!this.state.skmodal});}},{key:'modalsklama',value:function modalsklama(items){this.setState({activesklama:items.file_sk_lama.substring(6),sklamamodal:!this.state.sklamamodal});}},{key:'nosuratmodal',value:function nosuratmodal(items){this.setState({activenosurat:items,nosuratmodal:!this.state.nosuratmodal});}},{key:'modalktp',value:function modalktp(items){this.setState({activektp:items.file_ktp.substring(6),ktpmodal:!this.state.ktpmodal});}},{key:'modalsurat',value:function modalsurat(items){this.setState({activesurat:items.file_surat_izin.substring(6),suratmodal:!this.state.suratmodal});}},{key:'modalkkclose',value:function modalkkclose(){this.setState({kkmodal:!this.state.kkmodal});}},{key:'modalnosuratclose',value:function modalnosuratclose(){this.setState({nosuratmodal:!this.state.nosuratmodal});}},{key:'modalktpclose',value:function modalktpclose(){this.setState({ktpmodal:!this.state.ktpmodal});}},{key:'modalsuratclose',value:function modalsuratclose(){this.setState({suratmodal:!this.state.suratmodal});}},{key:'modalskclose',value:function modalskclose(){this.setState({skmodal:!this.state.skmodal});}},{key:'modalsklamaclose',value:function modalsklamaclose(){this.setState({sklamamodal:!this.state.sklamamodal});}},{key:'toggleclose',value:function toggleclose(){this.setState({modal:!this.state.modal});}},{key:'toggleproggress',value:function toggleproggress(){this.setState({modalprogress:!this.state.modalprogress});}},{key:'render',value:function render(){var _this7=this;console.log(this.state.showitems);// const {isLoaded, items} = this.state;\nif(!this.state.isLoaded){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{display:'flex',justifyContent:'center',margin:100}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'sweet-loading'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_react_spinners__[\"RingLoader\"],{color:'#123abc'})));}else{return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'animated fadeIn'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.modal,toggle:this.toggleclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.toggleclose},'Lihat Data Penghuni Makam'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('form',{className:'form-group',onSubmit:''},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'Nama Penghuni Makam'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'text',className:'form-control',name:'activenama',value:this.state.activedata.nama,disabled:true}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'Alamat Terakhir')))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.nosuratmodal,toggle:this.modalnosuratclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalnosuratclose},'No Surat'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('form',{className:'form-group',onSubmit:this.acc_dinas},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{'class':'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'No Surat'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'text',className:'form-control',onChange:this.handleChange,name:'no_surat'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'submit',className:'form-control btn btn-primary',Value:'Submit'})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.ktpmodal,toggle:this.modalktpclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalktpclose},'Kartu Tanda Penduduk'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:\"http://api.emakam.tujuhlangit.id/storage\"+this.state.activektp,'class':'img-fluid',alt:'Responsive image'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.kkmodal,toggle:this.modalkkclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalkkclose},'Kartu Keluarga'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:\"http://api.emakam.tujuhlangit.id/storage\"+this.state.activekk,'class':'img-fluid',alt:'Responsive image'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.suratmodal,toggle:this.modalsuratclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalsuratclose},'Surat Permohonan'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:\"http://api.emakam.tujuhlangit.id/storage\"+this.state.activesurat,'class':'img-fluid',alt:'Responsive image'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.skmodal,toggle:this.modalskclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalskclose},'Surat Kematian'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:\"http://api.emakam.tujuhlangit.id/storage\"+this.state.activesk,'class':'img-fluid',alt:'Responsive image'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.sklamamodal,toggle:this.modalsklamaclose,className:'modal-Large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.modalsklamaclose},'Surat Izin Lama'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:\"http://api.emakam.tujuhlangit.id/storage\"+this.state.activesklama,'class':'img-fluid',alt:'Responsive image'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"h\" /* Col */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"e\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"g\" /* CardHeader */],null,'Manajemen Dokumen'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"f\" /* CardBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_table__[\"a\" /* default */],{data:this.state.showitems,resolveData:function resolveData(data){return data.map(function(row){return row;});},defaultPageSize:10,filterable:true,columns:[{accessor:'id',show:false},{accessor:'nama_almarhum',show:false},{accessor:'nik_ahli_waris',show:false},{accessor:'alamat_ahli_waris',show:false},{accessor:'tanggal_wafat',show:false},{accessor:'id_penghuni_makam',show:false},{accessor:'tanggal_lahir_alm',show:false},{accessor:'tanggal_pemakaman',show:false},{accessor:'tgllhr_ahli_waris',show:false},{accessor:'jenis_kelamin',show:false},{accessor:'nama_tpu',show:false},{accessor:'alamat_terakhir',show:false},{accessor:'kode_blok',show:false},/*aksesor cetak surat permohonan*/{accessor:'id_kecamatan',show:false},{accessor:'no_surat_perizinan',show:false},{accessor:'tanggal_surat_permohonan',show:false},{accessor:'tanggal_surat_perizinin',show:false},{accessor:'no_surat_permohonan',show:false},{Header:'Kode Registrasi',accessor:'kode_registrasi'// String-based value accessors!\n},{Header:'Nama Almarhum',accessor:'nama_almarhum'// String-based value accessors!\n},{Header:'Nama Pewaris',accessor:'nama_pewaris'// String-based value accessors!\n},{Header:'Email Pewaris',show:false,accessor:'email'// String-based value accessors!\n},{Header:'Nomor Surat Izin',accessor:'no_surat_perizinan',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,_this7.checksuratizin(row.row));}},{Header:'Nomor Surat Permohonan',accessor:'no_surat_permohonan',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,_this7.checksuratpermohonan(row.row));}},{filterable:false,Header:'KTP Almarhum',show:false,accessor:'file_ktp',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null);}},{Header:'KK Almarhum',filterable:false,show:false,accessor:'file_kk',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null);}},{Header:'Kelengkapan Dokumen',filterable:false,width:200,accessor:'file_sk',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.modalktp(row.row);},className:'mr-1'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'icon-credit-card text-left'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.modalkk(row.row);},className:'mr-1'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'icon-map icons text-left'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.modalsk(row.row);},className:'mr-1'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'icon-layers icons text-left'})),_this7.checksklama(row.row));}},{Header:'SK Lama Almarhum',filterable:false,show:false,accessor:'file_sk_lama',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null);}},{Header:'Surat Permohonan',show:false,filterable:false,accessor:'file_surat_izin',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.modalsurat(row.row);},className:'mr-1'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'icon-magnifier icons text-left'})));}},{Header:'Kelengkapan Dokumen',accessor:'kelengkapan_dokumen',show:false// String-based value accessors!\n},{Header:'Status',accessor:'status'// String-based value accessors!\n},// {\n//   Header: 'Track Proggression',\n//   Cell: row => (\n//     <div>\n//       <div className=\"text-center\">{this.proggress(row.row.status)}</div>\n//       <Progress value={this.proggress(row.row.status)*25} />\n//     </div>\n//   )\n// },\n{Header:'Unduh Surat Permohonan',show:sessionStorage.getItem('login_session')==\"4\"?true:false,// accessor: 'status', // String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.surat_permohonan(row.row);},className:'mr-1'},'Unduh'));}},{Header:'Actions',filterable:false,accessor:'status',// String-based value accessors!\nshow:sessionStorage.getItem('login_session')==\"4\"?true:false,Cell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.acc_kec(row.row);},className:'mr-1'},'Accept'));}},{Header:'Actions',filterable:false,accessor:'status',// String-based value accessors!\nshow:sessionStorage.getItem('login_session')==\"3\"?true:false,Cell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.nosuratmodal(row.row);},className:'mr-1'},'Keluarkan Surat Permohonan'));}},{Header:'Actions',filterable:false,show:false,// sessionStorage.getItem('login_session') == \"1\" ? true : false,\naccessor:'status',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.cek_kelengkapan(row.row.id);},className:'mr-1'},'Accept'));}},{Header:'Actions',accessor:'status',// String-based value accessors!\nshow:sessionStorage.getItem('login_session')==\"2\"?true:false,Cell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_reactstrap__[\"d\" /* Button */],{color:'info',onClick:function onClick(){return _this7.acc_kupt(row.row.id);},className:'mr-1'},'Rekomendasi'));}}]}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null))))));}}}]);return Search;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Search);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.1f189f2e.chunk.js","import React, { Component } from 'react';\r\nimport { Bar, Line } from 'react-chartjs-2';\r\nimport {\r\n  Badge,\r\n  Button,\r\n  ButtonDropdown,\r\n  ButtonGroup,\r\n  ButtonToolbar,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n  Col,\r\n  Dropdown,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  DropdownToggle,\r\n  Progress,\r\n  Row,\r\n  Table,\r\n  Modal,\r\n  ModalBody,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  Form,\r\n  FormGroup,\r\n  FormText,\r\n  FormFeedback,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  Label,\r\n} from 'reactstrap';\r\nimport { CustomTooltips } from '@coreui/coreui-plugin-chartjs-custom-tooltips';\r\nimport { getStyle, hexToRgba } from '@coreui/coreui/dist/js/coreui-utilities'\r\nimport ReactTable from \"react-table\";\r\nimport { RingLoader } from 'react-spinners';\r\n\r\nimport 'react-table/react-table.css'\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.toggleclose = this.toggleclose.bind(this);\r\n    this.modalkkclose = this.modalkkclose.bind(this);\r\n    this.modalktpclose = this.modalktpclose.bind(this);\r\n    this.modalsuratclose = this.modalsuratclose.bind(this);\r\n    this.modalnosuratclose = this.modalnosuratclose.bind(this);\r\n    this.modalskclose = this.modalskclose.bind(this);\r\n    this.modalsklamaclose = this.modalsklamaclose.bind(this);\r\n\r\n    this.toggleproggress = this.toggleproggress.bind(this);\r\n\r\n    this.fetchdata = this.fetchdata.bind(this);\r\n\r\n    this.update_status = this.update_status.bind(this);\r\n    this.acc_kec = this.acc_kec.bind(this);\r\n    this.acc_dinas = this.acc_dinas.bind(this);\r\n    this.acc_kupt = this.acc_kupt.bind(this);\r\n    this.cek_kelengkapan = this.cek_kelengkapan.bind(this);\r\n\r\n    this.state = {\r\n      dropdownOpen: false,\r\n      radioSelected: 2,\r\n      error: null,\r\n      isLoaded: false,\r\n      isSend: false,\r\n      isFiltered: true,\r\n      filter_keyword: '',\r\n      items: [],\r\n      showitems: [],\r\n      itemsperblok: [],\r\n      blok: [],\r\n      details_almarhum: [],\r\n      blokfilter: false,\r\n      itemblokfilter: [],\r\n      activename: null,\r\n      activeqty: null,\r\n      activesupplier: null,\r\n      formqty: '1',\r\n\r\n      activedata: [],\r\n      activektp: null,\r\n      activekk: null,\r\n      activenosurat: [],\r\n\r\n      no_surat: null\r\n    };\r\n\r\n    this.fetchdata();\r\n  }\r\n\r\n  get_tanggal_sekarang() {\r\n    var months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];\r\n    // var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];\r\n    var date = new Date();\r\n    var day = date.getDate();\r\n    var month = date.getMonth();\r\n    // var thisDay = date.getDay(),\r\n    //   thisDay = myDays[thisDay];\r\n    var yy = date.getYear();\r\n    var year = (yy < 1000) ? yy + 1900 : yy;\r\n    return (day + ' ' + months[month] + ' ' + year);\r\n  }\r\n\r\n  update_status(id, newstatus) {\r\n    fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token=' + sessionStorage.getItem('token'), {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id: id,\r\n        status: newstatus\r\n      })\r\n    }).then((response) => response.json())\r\n      .then((responseJson) => {\r\n        alert('Permintaan telah berhasil diproses');\r\n      }).then(\r\n        this.fetchdata\r\n      )\r\n  }\r\n\r\n  update_status_acc_dinas(id, newstatus) {\r\n    fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token=' + sessionStorage.getItem('token'), {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id: id,\r\n        status: newstatus,\r\n        no_surat_permohonan: this.state.no_surat,\r\n        tanggal_surat_permohonan: this.get_tanggal_sekarang()\r\n      })\r\n    }).then((response) => response.json())\r\n      .then((responseJson) => {\r\n        alert('Permohonan izin berhasil diproses');\r\n      }).then(\r\n        this.fetchdata\r\n      ).catch((err)=>{\r\n        this.setState({\r\n          isLoaded: false\r\n        })\r\n        alert(\"Permintaan tidak dapat diproses\")\r\n      })\r\n  }\r\n\r\n  acc_kec(row) {\r\n    alert('sistem sedang memproses data dan mencoba mengirim email. tunggu sebentar...')\r\n    var status = 'Proses Selesai'\r\n    fetch('http://api.emakam.tujuhlangit.id/api/send?to=' + row.email + '&message=Permohonan izin penggunaan lahan makam anda telah diproses silahkan ke ambil pada kecamatan').then(this.setState({\r\n      isSend: true\r\n    })).then(console.log(\"sending\")).catch((err)=>{\r\n      this.setState({\r\n        isLoaded: false\r\n      })\r\n      alert(\"Permintaan tidak dapat diproses\")\r\n    })  \r\n\r\n    // if (this.state.isSend) {\r\n    //   alert(\"Notification Sent\")\r\n    // }\r\n     \r\n    this.update_status(row.id, status)\r\n  }\r\n\r\n  acc_dinas = event => {\r\n    event.preventDefault();\r\n    var status = 'Menunggu Persetujuan Kepala Kecamatan'\r\n    const url = 'http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_permohonan?token=' + sessionStorage.getItem('token')\r\n      + '&tanggal_sekarang=' + this.get_tanggal_sekarang()\r\n      + '&nama_ahli_waris=' + this.state.activenosurat.nama_pewaris\r\n      + '&alamat_ahli_waris=' + this.state.activenosurat.alamat_ahli_waris\r\n      + '&tanggal_wafat=' + this.state.activenosurat.tanggal_wafat\r\n      + '&nama_almarhum=' + this.state.activenosurat.nama_almarhum\r\n      + '&ttl_almarhum=' + this.state.activenosurat.tanggal_lahir_alm\r\n      + '&ttl_ahli_waris=' + this.state.activenosurat.tgllhr_ahli_waris\r\n      + '&jenis_kelamin_almarhum=' + this.state.activenosurat.jenis_kelamin\r\n      + '&tpu_almarhum=' + this.state.activenosurat.nama_tpu\r\n      + '&alamat_almarhum=' + this.state.activenosurat.alamat_terakhir\r\n      + '&tanggal_pemakaman=' + this.state.activenosurat.tanggal_pemakaman\r\n      + '&blok_almarhum=' + this.state.activenosurat.kode_blok\r\n      + '&no_surat_permohonan=' + this.state.no_surat\r\n\r\n    window.location = url\r\n    this.update_status_acc_dinas(this.state.activenosurat.id, status)\r\n\r\n    this.modalnosuratclose()\r\n  }\r\n\r\n  acc_kupt(id) {\r\n    var status = 'Menunggu Persetujuan Kepala Dinas'\r\n    this.update_status(id, status)\r\n  }\r\n\r\n  cek_kelengkapan(id) {\r\n    fetch('http://api.emakam.tujuhlangit.id/api/dokumen/update?token=' + sessionStorage.getItem('token'), {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id: id,\r\n        kelengkapan_dokumen: 'Lengkap'\r\n      })\r\n    }).then((response) => response.json())\r\n      .then((responseJson) => {\r\n        alert('Update Sukses');\r\n      }).catch((err)=>{\r\n        this.setState({\r\n          isLoaded: false\r\n        })\r\n        alert(\"Permintaan tidak dapat diproses\")\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n\r\n  }\r\n\r\n  fetchdata() {\r\n    fetch(\"http://api.emakam.tujuhlangit.id/api/dokumen/view?token=\" + sessionStorage.getItem('token') + '&id_user=' + sessionStorage.getItem('id_user') + '&role=' + sessionStorage.getItem('login_session'))\r\n      .then(response => {\r\n        return response.json()\r\n      })\r\n      .then(\r\n        (json) => {\r\n\r\n          if (sessionStorage.getItem('login_session') == \"2\") {\r\n            var updateitem;\r\n            updateitem = json;\r\n            updateitem = updateitem.filter(function (item) {\r\n              return item.kelengkapan_dokumen.toLowerCase().search(\"lengkap\") !== -1 &&\r\n                item.status.toLowerCase().search(\"menunggu persetujuan kepala upt\") !== -1;\r\n            });\r\n            this.setState({ showitems: updateitem });\r\n          } else if (sessionStorage.getItem('login_session') == \"3\") {\r\n            var updateitem;\r\n            updateitem = json;\r\n            updateitem = updateitem.filter(function (item) {\r\n              return item.kelengkapan_dokumen.toLowerCase().search(\"lengkap\") !== -1 &&\r\n                item.status.toLowerCase().search(\"menunggu persetujuan kepala dinas\") !== -1;\r\n            });\r\n            this.setState({ showitems: updateitem });\r\n          } else if (sessionStorage.getItem('login_session') == \"4\") {\r\n            var updateitem;\r\n            updateitem = json;\r\n            updateitem = updateitem.filter(function (item) {\r\n              return item.kelengkapan_dokumen.toLowerCase().search(\"lengkap\") !== -1 &&\r\n                item.status.toLowerCase().search(\"menunggu persetujuan kepala kecamatan\") !== -1;\r\n            });\r\n            this.setState({ showitems: updateitem });\r\n          } else {\r\n            this.setState({ showitems: json });\r\n          }\r\n\r\n          this.setState({\r\n            isLoaded: true,\r\n            items: json,\r\n          });\r\n        },\r\n    )\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  checksuratpermohonan(items){\r\n    if(items.no_surat_permohonan!=null){\r\n      return items.no_surat_permohonan\r\n    }else{\r\n      return \"-\"\r\n    }\r\n  }\r\n\r\n  checksuratizin(items){\r\n    if(items.no_surat_perizinan!=null){\r\n      return items.no_surat_perizinan\r\n    }else{\r\n      return \"-\"\r\n    }\r\n  }\r\n\r\n  checksklama(items){\r\n    if(items.file_sk_lama!=\"-\"){\r\n      return (\r\n        <Button id='buttonsk' color=\"info\"  onClick={() => this.modalsklama(items)} className=\"mr-1\"><i className=\"icon-note icons text-left\"></i></Button>\r\n      )\r\n    }else{\r\n      return (\r\n        <Button id='buttonsk' color=\"info\" disabled onClick={() => this.modalsklama(items)} className=\"mr-1\"><i className=\"icon-note icons text-left\"></i></Button>\r\n      )\r\n    }\r\n      \r\n  }\r\n\r\n  proggress(status) {\r\n\r\n    return status == \"Menunggu Persetujuan Kepala UPT\" ? 1 :\r\n      status == \"Menunggu Persetujuan Kepala Dinas\" ? 2 :\r\n        status == \"Menunggu Persetujuan Kepala Kecamatan\" ? 3 :\r\n          status == \"Proses Selesai\" ? 4 : 0\r\n\r\n  }\r\n\r\n  surat_permohonan = (items) =>{\r\n    console.log(items)\r\n    if(items.no_surat_permohonan!=null){\r\n      const url = 'http://api.emakam.tujuhlangit.id/api/dokumen/cetak_dokumen_permohonan?token=' + sessionStorage.getItem('token')\r\n      + '&tanggal_sekarang=' + items.tanggal_surat_permohonan\r\n      + '&nama_ahli_waris=' + items.nama_pewaris\r\n      + '&alamat_ahli_waris=' + items.alamat_ahli_waris\r\n      + '&tanggal_wafat=' + items.tanggal_wafat\r\n      + '&nama_almarhum=' + items.nama_almarhum\r\n      + '&ttl_almarhum=' + items.tanggal_lahir_alm\r\n      + '&ttl_ahli_waris=' + items.tgllhr_ahli_waris\r\n      + '&jenis_kelamin_almarhum=' + items.jenis_kelamin\r\n      + '&tpu_almarhum=' + items.nama_tpu\r\n      + '&alamat_almarhum=' + items.alamat_terakhir\r\n      + '&tanggal_pemakaman=' + items.tanggal_pemakaman\r\n      + '&blok_almarhum=' + items.kode_blok\r\n      + '&no_surat_permohonan=' + items.no_surat_permohonan\r\n      window.location = url;\r\n    }else{\r\n      alert(\"nomor surat belum ada\")\r\n    }\r\n  }\r\n\r\n  toggle(items) {\r\n    this.setState({\r\n      activedata: items,\r\n      modal: !this.state.modal,\r\n    });\r\n  }\r\n\r\n  modalkk(items) {\r\n    this.setState({\r\n      activekk: items.file_kk.substring(6),\r\n      kkmodal: !this.state.kkmodal,\r\n    })\r\n  }\r\n\r\n  modalsk(items) {\r\n    this.setState({\r\n      activesk: items.file_sk.substring(6),\r\n      skmodal: !this.state.skmodal,\r\n    })\r\n  }\r\n\r\n  modalsklama(items) {\r\n    this.setState({\r\n      activesklama: items.file_sk_lama.substring(6),\r\n      sklamamodal: !this.state.sklamamodal,\r\n    })\r\n  }\r\n\r\n  nosuratmodal(items) {\r\n    this.setState({\r\n      activenosurat: items,\r\n      nosuratmodal: !this.state.nosuratmodal,\r\n    })\r\n  }\r\n\r\n  modalktp(items) {\r\n    this.setState({\r\n      activektp: items.file_ktp.substring(6),\r\n      ktpmodal: !this.state.ktpmodal,\r\n    })\r\n  }\r\n\r\n  modalsurat(items) {\r\n    this.setState({\r\n      activesurat: items.file_surat_izin.substring(6),\r\n      suratmodal: !this.state.suratmodal,\r\n    });\r\n  }\r\n\r\n  modalkkclose() {\r\n    this.setState({\r\n      kkmodal: !this.state.kkmodal,\r\n    });\r\n  }\r\n\r\n  modalnosuratclose() {\r\n    this.setState({\r\n      nosuratmodal: !this.state.nosuratmodal,\r\n    });\r\n  }\r\n\r\n  modalktpclose() {\r\n    this.setState({\r\n      ktpmodal: !this.state.ktpmodal,\r\n    });\r\n  }\r\n  modalsuratclose() {\r\n    this.setState({\r\n      suratmodal: !this.state.suratmodal,\r\n    });\r\n  }\r\n\r\n  modalskclose() {\r\n    this.setState({\r\n      skmodal: !this.state.skmodal,\r\n    })\r\n  }\r\n\r\n  modalsklamaclose() {\r\n    this.setState({\r\n      sklamamodal: !this.state.sklamamodal,\r\n    })\r\n  }\r\n\r\n\r\n  toggleclose() {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  }\r\n\r\n  toggleproggress() {\r\n    this.setState({\r\n      modalprogress: !this.state.modalprogress,\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this.state.showitems);\r\n    // const {isLoaded, items} = this.state;\r\n    if (!this.state.isLoaded) {\r\n      return (<div style={{ display: 'flex', justifyContent: 'center', margin: 100 }}>\r\n        <div className='sweet-loading'>\r\n          <RingLoader\r\n            color={'#123abc'}\r\n          />\r\n        </div>\r\n      </div>)\r\n    } else {\r\n      return (\r\n        <div className=\"animated fadeIn\">\r\n          <Modal isOpen={this.state.modal} toggle={this.toggleclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.toggleclose}>Lihat Data Penghuni Makam</ModalHeader>\r\n            <ModalBody>\r\n              <form className=\"form-group\" onSubmit=''>\r\n                <label>Nama Penghuni Makam</label>\r\n                <input type=\"text\" className=\"form-control\" name=\"activenama\" value={this.state.activedata.nama} disabled></input>\r\n                <label>Alamat Terakhir</label>\r\n              </form>\r\n            </ModalBody>\r\n          </Modal>\r\n\r\n          <Modal isOpen={this.state.nosuratmodal} toggle={this.modalnosuratclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalnosuratclose}>No Surat</ModalHeader>\r\n            <ModalBody>\r\n              <form className=\"form-group\" onSubmit={this.acc_dinas}>\r\n                <div class=\"form-group\">\r\n                  <label>No Surat</label>\r\n                  <input type=\"text\" className=\"form-control\" onChange={this.handleChange} name=\"no_surat\"></input>\r\n                </div>\r\n                <input type=\"submit\" className=\"form-control btn btn-primary\" Value=\"Submit\"></input>\r\n              </form>\r\n            </ModalBody>\r\n          </Modal>\r\n\r\n          <Modal isOpen={this.state.ktpmodal} toggle={this.modalktpclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalktpclose}>Kartu Tanda Penduduk</ModalHeader>\r\n            <ModalBody>\r\n              <img src={\"http://api.emakam.tujuhlangit.id/storage\" + this.state.activektp} class=\"img-fluid\" alt=\"Responsive image\"></img>\r\n            </ModalBody>\r\n          </Modal>\r\n          <Modal isOpen={this.state.kkmodal} toggle={this.modalkkclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalkkclose}>Kartu Keluarga</ModalHeader>\r\n            <ModalBody>\r\n              <img src={\"http://api.emakam.tujuhlangit.id/storage\" + this.state.activekk} class=\"img-fluid\" alt=\"Responsive image\"></img>\r\n            </ModalBody>\r\n          </Modal>\r\n          <Modal isOpen={this.state.suratmodal} toggle={this.modalsuratclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalsuratclose}>Surat Permohonan</ModalHeader>\r\n            <ModalBody>\r\n              <img src={\"http://api.emakam.tujuhlangit.id/storage\" + this.state.activesurat} class=\"img-fluid\" alt=\"Responsive image\"></img>\r\n            </ModalBody>\r\n          </Modal>\r\n          <Modal isOpen={this.state.skmodal} toggle={this.modalskclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalskclose}>Surat Kematian</ModalHeader>\r\n            <ModalBody>\r\n              <img src={\"http://api.emakam.tujuhlangit.id/storage\" + this.state.activesk} class=\"img-fluid\" alt=\"Responsive image\"></img>\r\n            </ModalBody>\r\n          </Modal>\r\n          <Modal isOpen={this.state.sklamamodal} toggle={this.modalsklamaclose} className={'modal-Large ' + this.props.className}>\r\n            <ModalHeader toggle={this.modalsklamaclose}>Surat Izin Lama</ModalHeader>\r\n            <ModalBody>\r\n              <img src={\"http://api.emakam.tujuhlangit.id/storage\" + this.state.activesklama} class=\"img-fluid\" alt=\"Responsive image\"></img>\r\n            </ModalBody>\r\n          </Modal>\r\n          <Row>\r\n            <Col>\r\n              <Card>\r\n                <CardHeader>\r\n                  Manajemen Dokumen\r\n              </CardHeader>\r\n                <CardBody>\r\n                  <ReactTable\r\n                    data={this.state.showitems}\r\n                    resolveData={data => data.map(row => row)}\r\n                    defaultPageSize={10}\r\n                    filterable\r\n                    columns={[\r\n                      { accessor: 'id', show: false },\r\n                      { accessor: 'nama_almarhum', show: false },\r\n                      { accessor: 'nik_ahli_waris', show: false },\r\n                      { accessor: 'alamat_ahli_waris', show: false },\r\n                      { accessor: 'tanggal_wafat', show: false },\r\n                      { accessor: 'id_penghuni_makam', show: false },\r\n                      { accessor: 'tanggal_lahir_alm', show: false },\r\n                      { accessor: 'tanggal_pemakaman', show: false },\r\n                      { accessor: 'tgllhr_ahli_waris', show: false },\r\n                      { accessor: 'jenis_kelamin', show: false },\r\n                      { accessor: 'nama_tpu', show: false },\r\n                      { accessor: 'alamat_terakhir', show: false },\r\n                      { accessor: 'kode_blok', show: false },\r\n                      /*aksesor cetak surat permohonan*/\r\n                      { accessor: 'id_kecamatan', show: false },\r\n                      { accessor: 'no_surat_perizinan', show: false },\r\n                      { accessor: 'tanggal_surat_permohonan', show: false },\r\n                      { accessor: 'tanggal_surat_perizinin', show: false },\r\n                      { accessor: 'no_surat_permohonan', show: false },\r\n                      {\r\n                        Header: 'Kode Registrasi',\r\n                        accessor: 'kode_registrasi', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nama Almarhum',\r\n                        accessor: 'nama_almarhum', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nama Pewaris',\r\n                        accessor: 'nama_pewaris', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Email Pewaris',\r\n                        show:false,\r\n                        accessor: 'email', // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Nomor Surat Izin',\r\n                        accessor: 'no_surat_perizinan', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            {this.checksuratizin(row.row)}\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Nomor Surat Permohonan',\r\n                        accessor: 'no_surat_permohonan', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            {this.checksuratpermohonan(row.row)}\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        filterable: false,\r\n                        Header: 'KTP Almarhum',\r\n                        show:false,\r\n                        accessor: 'file_ktp', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'KK Almarhum',\r\n                        filterable: false,\r\n                        show:false,\r\n                        accessor: 'file_kk', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Kelengkapan Dokumen',\r\n                        filterable: false,\r\n                        width:200,\r\n                        accessor: 'file_sk', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.modalktp(row.row)} className=\"mr-1\"><i className=\"icon-credit-card text-left\"></i></Button>\r\n                            <Button color=\"info\" onClick={() => this.modalkk(row.row)} className=\"mr-1\"><i className=\"icon-map icons text-left\"></i></Button>\r\n                            <Button color=\"info\" onClick={() => this.modalsk(row.row)} className=\"mr-1\"><i className=\"icon-layers icons text-left\"></i></Button>\r\n                            {this.checksklama(row.row)}\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'SK Lama Almarhum',\r\n                        filterable: false,\r\n                        show:false,\r\n                        accessor: 'file_sk_lama', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Surat Permohonan',\r\n                        show:false,\r\n                        filterable: false,\r\n                        accessor: 'file_surat_izin', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.modalsurat(row.row)} className=\"mr-1\"><i className=\"icon-magnifier icons text-left\"></i></Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Kelengkapan Dokumen',\r\n                        accessor: 'kelengkapan_dokumen',\r\n                        show: false, // String-based value accessors!\r\n                      },\r\n                      {\r\n                        Header: 'Status',\r\n                        accessor: 'status', // String-based value accessors!\r\n                      },\r\n                      // {\r\n                      //   Header: 'Track Proggression',\r\n                      //   Cell: row => (\r\n                      //     <div>\r\n                      //       <div className=\"text-center\">{this.proggress(row.row.status)}</div>\r\n                      //       <Progress value={this.proggress(row.row.status)*25} />\r\n                      //     </div>\r\n                      //   )\r\n                      // },\r\n                      {\r\n                        Header: 'Unduh Surat Permohonan',\r\n                        show: sessionStorage.getItem('login_session') == \"4\" ? true : false,\r\n                        // accessor: 'status', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={()=>this.surat_permohonan(row.row)} className=\"mr-1\">Unduh</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Actions',\r\n                        filterable: false,\r\n                        accessor: 'status', // String-based value accessors!\r\n                        show: sessionStorage.getItem('login_session') == \"4\" ? true : false,\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.acc_kec(row.row)} className=\"mr-1\">Accept</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Actions',\r\n                        filterable: false,\r\n                        accessor: 'status', // String-based value accessors!\r\n                        show: sessionStorage.getItem('login_session') == \"3\" ? true : false,\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.nosuratmodal(row.row)} className=\"mr-1\">Keluarkan Surat Permohonan</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Actions',\r\n                        filterable: false,\r\n                        show: false,\r\n                        // sessionStorage.getItem('login_session') == \"1\" ? true : false,\r\n                        accessor: 'status', // String-based value accessors!\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.cek_kelengkapan(row.row.id)} className=\"mr-1\">Accept</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                      {\r\n                        Header: 'Actions',\r\n                        accessor: 'status', // String-based value accessors!\r\n                        show: sessionStorage.getItem('login_session') == \"2\" ? true : false,\r\n                        Cell: row => (\r\n                          <div>\r\n                            <Button color=\"info\" onClick={() => this.acc_kupt(row.row.id)} className=\"mr-1\">Rekomendasi</Button>\r\n                          </div>\r\n                        )\r\n                      },\r\n                    ]}\r\n                  />\r\n                  <hr></hr>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Search;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/KepalaTPU/Dokumen/Dokumen.js"],"sourceRoot":""}