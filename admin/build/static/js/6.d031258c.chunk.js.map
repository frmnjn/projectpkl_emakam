{"version":3,"sources":["../static/js/6.d031258c.chunk.js","views/AdminTPU/ManajemenBlokMakam/BlokMakam.js"],"names":["webpackJsonp","556","module","__webpack_exports__","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_4_react_router_dom__","__WEBPACK_IMPORTED_MODULE_5_reactstrap__","__WEBPACK_IMPORTED_MODULE_6_react_table__","__WEBPACK_IMPORTED_MODULE_7_react_spinners__","__WEBPACK_IMPORTED_MODULE_8_google_maps_react__","__WEBPACK_IMPORTED_MODULE_9_react_table_react_table_css__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","BlokMakam","_Component","this","_this","getPrototypeOf","handleKode","event","setState","kodeaktif","handleChangeOption","tpu","split","idtpuaktif","kodetpuaktif","toggle","bind","toggleSmall","toggleEdit","toggleEditclose","toggleCreate","toggleLocation","toggleLocationClose","handleEdit","fetchblok","handleDelete","handleCreate","fetchtpu","fetchpolygon","onRadioBtnClick","mapClicked","viewpolygon","state","dropdownOpen","radioSelected","error","isLoaded","items","blok","tpu_role","polygon","newpolygon","dummy","activename","activeqty","activesupplier","lng","lat","idblokaktif","nomoraktif","blokaktif","formqty","_this2","fetch","sessionStorage","getItem","then","response","json","result","_this3","_this4","id_blok","_this5","raw","console","log","filter","item","data","map","push","parseFloat","method","headers","Accept","Content-Type","body","JSON","stringify","_this6","detelepolygon","createpolygon","kode_blok","id_tpu","responseJson","alert","edit","catch","err","_this7","message","_this8","small","mapProps","concat","latLng","modal","kode_tpu","location","_this9","_React$createElement","_React$createElement2","a","createElement","className","isOpen","xs","class","onChange","selected","nama_tpu","type","id","name","style","height","width","onClick","google","zoom","initialCenter","paths","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","position","onMarkerClick","onClose","onInfoWindowClose","color","placeholder","col","outline","defaultPageSize","filterable","columns","accessor","show","Header","Cell","row","to","display","justifyContent","margin","apiKey"],"mappings":"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","file":"static/js/6.d031258c.chunk.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 556:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_chartjs_2__ = __webpack_require__(179);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(180);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__views_Users_UsersData__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_router_dom__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_reactstrap__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_table__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_spinners__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_spinners___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_spinners__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_google_maps_react__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_google_maps_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_table_react_table_css__ = __webpack_require__(177);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_table_react_table_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_react_table_react_table_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var BlokMakam=function(_Component){_inherits(BlokMakam,_Component);function BlokMakam(props){_classCallCheck(this,BlokMakam);var _this=_possibleConstructorReturn(this,(BlokMakam.__proto__||Object.getPrototypeOf(BlokMakam)).call(this,props));_this.handleKode=function(event){_this.setState({kodeaktif:event.target.value});};_this.handleChangeOption=function(event){var tpu=event.target.value.split(',');_this.setState({idtpuaktif:tpu[0],kodetpuaktif:tpu[1]});};_this.toggle=_this.toggle.bind(_this);_this.toggleSmall=_this.toggleSmall.bind(_this);_this.toggleEdit=_this.toggleEdit.bind(_this);_this.toggleEditclose=_this.toggleEditclose.bind(_this);_this.toggleCreate=_this.toggleCreate.bind(_this);_this.toggleLocation=_this.toggleLocation.bind(_this);_this.toggleLocationClose=_this.toggleLocationClose.bind(_this);_this.handleEdit=_this.handleEdit.bind(_this);_this.fetchblok=_this.fetchblok.bind(_this);_this.handleDelete=_this.handleDelete.bind(_this);_this.handleCreate=_this.handleCreate.bind(_this);_this.fetchtpu=_this.fetchtpu.bind(_this);_this.fetchpolygon=_this.fetchpolygon.bind(_this);_this.onRadioBtnClick=_this.onRadioBtnClick.bind(_this);_this.mapClicked=_this.mapClicked.bind(_this);_this.viewpolygon=_this.viewpolygon.bind(_this);_this.state={dropdownOpen:false,radioSelected:2,error:null,isLoaded:false,items:[],blok:[],tpu_role:[],tpu:[],polygon:[// {lat:-7.956273, lng:112.613289},\n// {lat:-7.954637, lng:112.611814},\n// {lat:-7.949469, lng:112.609006},\n// {lat:-7.947670, lng:112.613490},\n// {lat:-7.955008, lng:112.620526},\n// {lat:-7.956426, lng:112.617328}\n],newpolygon:[],dummy:[],activename:null,activeqty:null,activesupplier:null,lng:112.61316118043442,lat:-7.952687231547793,idtpuaktif:null,idblokaktif:null,nomoraktif:null,blokaktif:null,kodeaktif:null,kodetpuaktif:null,formqty:'1'};_this.fetchblok();_this.fetchtpu();_this.fetchpolygon();return _this;}_createClass(BlokMakam,[{key:'componentDidMount',value:function componentDidMount(){}},{key:'fetchtpu',value:function fetchtpu(){var _this2=this;fetch('http://localhost:8000/api/tpu/view_byUser?token='+sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user')).then(function(response){return response.json();}).then(function(result){_this2.setState({tpu:result});});}},{key:'fetchblok',value:function fetchblok(){var _this3=this;fetch(\"http://localhost:8000/api/blok/view?token=\"+sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user')).then(function(response){return response.json();}).then(function(json){_this3.setState({isLoaded:true,blok:json});});}},{key:'fetchpolygon',value:function fetchpolygon(){var _this4=this;fetch('http://localhost:8000/api/polygon/view?token='+sessionStorage.getItem('token')).then(function(response){return response.json();}).then(function(result){_this4.setState({dummy:result});});}},{key:'viewpolygon',value:function viewpolygon(id_blok){var _this5=this;//alert(id_blok)\nvar raw=this.state.dummy;console.log(raw);raw=raw.filter(function(item){return item.id_blok===id_blok;});var data=[];raw.map(function(items){data.push({lat:parseFloat(items.lat),lng:parseFloat(items.lng)});_this5.setState({lat:items.lat,lng:items.lng});});console.log(data);return data;}},{key:'createpolygon',value:function createpolygon(items){fetch('http://localhost:8000/api/polygon/create?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id_blok:this.state.idblokaktif,lat:items.lat,lng:items.lng})});}},{key:'detelepolygon',value:function detelepolygon(){fetch('http://localhost:8000/api/polygon/delete/'+this.state.idblokaktif+\"?token=\"+sessionStorage.getItem('token'),{method:'DELETE'});}},{key:'handleEdit',value:function handleEdit(){var _this6=this;this.detelepolygon();this.state.newpolygon.map(function(items){_this6.createpolygon(items);});fetch('http://localhost:8000/api/blok/edit/'+this.state.idblokaktif+\"?token=\"+sessionStorage.getItem('token'),{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({kode_blok:this.state.kodetpuaktif+'-'+this.state.kodeaktif,id_tpu:this.state.idtpuaktif})}).then(function(response){return response.json();}).then(function(responseJson){alert(responseJson);}).then(this.setState({edit:!this.state.edit})).then(this.fetchblok).then(this.fetchpolygon).catch(function(err){_this6.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});}},{key:'handleCreate',value:function handleCreate(){var _this7=this;fetch('http://localhost:8000/api/blok/create?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id_tpu:this.state.idtpuaktif,kode_blok:this.state.kodetpuaktif+'-'+this.state.kodeaktif})}).then(function(response){return response.json();}).then(function(result){if(result.message==null){_this7.state.newpolygon.map(function(items){fetch('http://localhost:8000/api/polygon/create?token='+sessionStorage.getItem('token'),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({id_blok:result.id_blok,lat:items.lat,lng:items.lng})});});alert(\"pembuatan blokmakam sukses\");}else{alert(\"pembuatan blokmakam gagal\");}}).then(this.setState({create:!this.state.create})).then(this.fetchblok).then(this.fetchpolygon).catch(function(err){_this7.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});}},{key:'handleDelete',value:function handleDelete(){var _this8=this;this.detelepolygon();fetch('http://localhost:8000/api/blok/delete/'+this.state.idblokaktif+\"?token=\"+sessionStorage.getItem('token'),{method:'DELETE'}).then(function(response){return response.json();}).then(function(responseJson){alert(responseJson);}).then(this.fetchblok()).then(this.setState({small:!this.state.small})).then(this.fetchblok).catch(function(err){_this8.setState({isLoaded:false});alert(\"Permintaan tidak dapat diproses\");});}},{key:'mapClicked',value:function mapClicked(mapProps,map,event){this.setState({newpolygon:this.state.newpolygon.concat({lat:event.latLng.lat(),lng:event.latLng.lng()}),lat:event.latLng.lat(),lng:event.latLng.lng()});}},{key:'toggle',value:function toggle(){this.setState({dropdownOpen:!this.state.dropdownOpen});}},{key:'onRadioBtnClick',value:function onRadioBtnClick(radioSelected){this.setState({radioSelected:radioSelected});}},{key:'toggle',value:function toggle(){this.setState({modal:!this.state.modal});}},{key:'toggleSmall',value:function toggleSmall(items){this.setState({small:!this.state.small,idblokaktif:items.id_blok});}},{key:'toggleEdit',value:function toggleEdit(items){var blok=items.kode_blok.split('-');this.setState({newpolygon:[],edit:!this.state.edit,kodetpuaktif:items.kode_tpu,idblokaktif:items.id_blok,idtpuaktif:items.id_tpu,kodeaktif:blok[1]});}},{key:'toggleEditclose',value:function toggleEditclose(){this.setState({edit:!this.state.edit});}},{key:'toggleCreate',value:function toggleCreate(){this.setState({newpolygon:[],create:!this.state.create});}},{key:'toggleLocation',value:function toggleLocation(items){var data=this.viewpolygon(items.id_blok);this.setState({polygon:data,location:!this.state.location});}},{key:'toggleLocationClose',value:function toggleLocationClose(){this.setState({location:!this.state.location,lat:this.state.lat,lng:this.state.lng});}},{key:'render',value:function render(){var _this9=this;// const {isLoaded, items} = this.state;\nif(!this.state.isLoaded){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{display:'flex',justifyContent:'center',margin:100}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'sweet-loading'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_spinners__[\"RingLoader\"],{color:'#123abc'})));}else{if(sessionStorage.getItem('login_session')==1){var _React$createElement,_React$createElement2;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'animated fadeIn'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.edit,toggle:this.toggleEditclose,className:'modal-sm '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.toggleEditclose},'edit'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{xs:'12'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'small text-muted'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'Kode Blok')))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{xs:'12'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('select',{'class':'form-control',onChange:this.handleChangeOption},this.state.tpu.map(function(tpu){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('option',{value:tpu.id_tpu+','+tpu.kode_tpu,selected:tpu.id_tpu==_this9.state.idtpuaktif},tpu.nama_tpu);})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"o\" /* Input */],{onChange:this.handleKode,type:'text',id:'input1-group3',name:'input1-group3',value:this.state.kodeaktif}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{style:{height:'50vh',width:'5vw'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Map\"],(_React$createElement={onClick:this.mapClicked,google:this.props.google,zoom:14,initialCenter:{lat:this.state.lat,lng:this.state.lng}},_defineProperty(_React$createElement,'zoom',16),_defineProperty(_React$createElement,'style',{width:'90%'}),_React$createElement),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Polygon\"],{paths:this.state.newpolygon,strokeColor:'#0000FF',strokeOpacity:0.8,strokeWeight:2,fillColor:'#0000FF',fillOpacity:0.35}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Marker\"],{position:{lat:this.state.lat,lng:this.state.lng},onClick:this.onMarkerClick,name:'Current location'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"InfoWindow\"],{onClose:this.onInfoWindowClose},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h1',null,'Lalala'))))))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"x\" /* ModalFooter */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'success',onClick:this.handleEdit},'edit'),' ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'secondary',onClick:this.toggleEditclose},'Cancel'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.create,toggle:this.toggleCreate,className:'modal-sm '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.toggleCreate},'Buat Baru'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{xs:'12'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'small text-muted'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'Masukan Data')))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('select',{'class':'form-control',onChange:this.handleChangeOption},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('option',{value:''},'Pilih Tpu'),this.state.tpu.map(function(tpu){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('option',{value:tpu.id_tpu+','+tpu.kode_tpu},tpu.nama_tpu);})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{xs:'12'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"o\" /* Input */],{onChange:this.handleKode,type:'text',id:'input1-group3',name:'input1-group3',placeholder:'Kode Blok'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{style:{height:'50vh',width:'5vw'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Map\"],(_React$createElement2={onClick:this.mapClicked,google:this.props.google,zoom:14,initialCenter:{lat:this.state.lat,lng:this.state.lng}},_defineProperty(_React$createElement2,'zoom',15),_defineProperty(_React$createElement2,'style',{width:'90%'}),_React$createElement2),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Polygon\"],{paths:this.state.newpolygon,strokeColor:'#0000FF',strokeOpacity:0.8,strokeWeight:2,fillColor:'#0000FF',fillOpacity:0.35}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Marker\"],{position:{lat:this.state.lat,lng:this.state.lng},onClick:this.onMarkerClick,name:'Current location'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"InfoWindow\"],{onClose:this.onInfoWindowClose},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h1',null,'Lalala'))))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"x\" /* ModalFooter */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'primary',onClick:this.handleCreate},'Buat'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'secondary',onClick:this.toggleCreate},'Batal'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.small,toggle:this.toggleSmall,className:'modal-sm '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.toggleSmall}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"w\" /* ModalBody */],null,'-                    ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('strong',null,'Apakah anda yakin ingin menghapus makam ',this.state.idblokaktif,' ?')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"x\" /* ModalFooter */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'danger',onClick:function onClick(){return _this9.handleDelete();}},'hapus'),' ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'secondary',onClick:this.toggleSmall},'batal'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"v\" /* Modal */],{isOpen:this.state.location,toggle:this.toggleLocationClose,className:'modal-large '+this.props.className},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"y\" /* ModalHeader */],{toggle:this.toggleLocation},'Poligon Blok Makam'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"w\" /* ModalBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{style:{height:'50vh'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Map\"],{google:this.props.google,initialCenter:{lat:this.state.lat,lng:this.state.lng},zoom:15,style:{width:'95%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"Polygon\"],{paths:this.state.polygon,strokeColor:'#0000FF',strokeOpacity:0.8,strokeWeight:2,fillColor:'#0000FF',fillOpacity:0.35}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"InfoWindow\"],{onClose:this.onInfoWindowClose},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h1',null,'Lalala')))))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"x\" /* ModalFooter */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{color:'secondary',onClick:this.toggleLocationClose},'Tutup'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"e\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"g\" /* CardHeader */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{col:'10'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('strong',null,'Manajemen Blok Makam')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"h\" /* Col */],{col:'2',className:'text-right'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{onClick:this.toggleCreate,outline:true,color:'primary'},'Create')))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"f\" /* CardBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_react_table__[\"a\" /* default */],{data:this.state.blok,defaultPageSize:10,filterable:true,columns:[{accessor:'id_blok',show:false},{accessor:'id_tpu',show:false},{accessor:'kode_tpu',show:false},{Header:'Kode Blok',accessor:'kode_blok'// String-based value accessors!\n},{Header:'TPU',accessor:'nama_tpu',// String-based value accessors!\nCell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,row.row.nama_tpu);}},{Header:'Actions',accessor:'id_blok',// String-based value accessors!\nfilterable:false,Cell:function Cell(row){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"D\" /* Row */],null,'\\u2003',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{onClick:function onClick(){return _this9.toggleLocation(row.row);},outline:true,color:'primary'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'cui-location-pin icons text-left'})),'\\u2003',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{onClick:function onClick(){return _this9.toggleEdit(row.row);},outline:true,color:'success'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'cui-pencil icons text-left'})),'\\u2003',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_reactstrap__[\"d\" /* Button */],{onClick:function onClick(){return _this9.toggleSmall(row.row);},outline:true,color:'danger'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'cui-circle-x icons text-left'}))));}}]}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null))))));}else if(sessionStorage.getItem('login_session')==\"0\"){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,alert(\"Anda tidak memiliki hak akses!\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"d\" /* Redirect */],{to:'/login'}));}else{return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"d\" /* Redirect */],{to:'/404'});}}}}]);return BlokMakam;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_8_google_maps_react__[\"GoogleApiWrapper\"])({apiKey:'AIzaSyDTUAyUGbuCXiRX6ywsz4ZIAf_jDPPRwUM'})(BlokMakam));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.d031258c.chunk.js","import React, { Component } from 'react';\r\nimport { Bar, Line } from 'react-chartjs-2';\r\nimport axios from 'axios';\r\nimport usersData from '../../../views/Users/UsersData';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Row,\r\n  Modal,\r\n  ModalBody,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  Input\r\n} from 'reactstrap';\r\nimport ReactTable from \"react-table\";\r\nimport { RingLoader } from 'react-spinners';\r\nimport {Map, InfoWindow, Marker, GoogleApiWrapper,Polygon} from 'google-maps-react';\r\nimport 'react-table/react-table.css'\r\n\r\nclass BlokMakam extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.toggleSmall = this.toggleSmall.bind(this);\r\n    this.toggleEdit = this.toggleEdit.bind(this);\r\n    this.toggleEditclose = this.toggleEditclose.bind(this);\r\n    this.toggleCreate = this.toggleCreate.bind(this);\r\n    this.toggleLocation = this.toggleLocation.bind(this);\r\n    this.toggleLocationClose = this.toggleLocationClose.bind(this);\r\n\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n    this.fetchblok = this.fetchblok.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.handleCreate = this.handleCreate.bind(this);\r\n    this.fetchtpu = this.fetchtpu.bind(this);\r\n    this.fetchpolygon = this.fetchpolygon.bind(this);\r\n    this.onRadioBtnClick = this.onRadioBtnClick.bind(this);\r\n    this.mapClicked = this.mapClicked.bind(this);\r\n    this.viewpolygon = this.viewpolygon.bind(this);\r\n\r\n    this.state = {\r\n      dropdownOpen: false,\r\n      radioSelected: 2,\r\n      error: null,\r\n      isLoaded: false,\r\n      items: [],\r\n      blok: [],\r\n      tpu_role:[],\r\n      tpu:[],\r\n      polygon:[\r\n        // {lat:-7.956273, lng:112.613289},\r\n        // {lat:-7.954637, lng:112.611814},\r\n        // {lat:-7.949469, lng:112.609006},\r\n        // {lat:-7.947670, lng:112.613490},\r\n        // {lat:-7.955008, lng:112.620526},\r\n        // {lat:-7.956426, lng:112.617328}\r\n      ],\r\n      newpolygon:[],\r\n\r\n      dummy:[],\r\n\r\n      activename: null,\r\n      activeqty: null,\r\n      activesupplier: null,\r\n\r\n      lng:112.61316118043442,\r\n      lat:-7.952687231547793,\r\n      idtpuaktif:null,\r\n      idblokaktif: null,\r\n      nomoraktif: null,\r\n      blokaktif: null,\r\n      kodeaktif: null,\r\n      kodetpuaktif: null,\r\n\r\n      formqty: '1',\r\n    };\r\n\r\n    this.fetchblok();\r\n    this.fetchtpu();\r\n    this.fetchpolygon();\r\n  }\r\n\r\n  componentDidMount() {\r\n    \r\n  }\r\n\r\n  fetchtpu(){\r\n    fetch('http://localhost:8000/api/tpu/view_byUser?token='+sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user'))\r\n      .then(response => response.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            tpu: result\r\n          });\r\n        },\r\n      )\r\n  }\r\n\r\n  fetchblok() {\r\n    fetch(\"http://localhost:8000/api/blok/view?token=\" + sessionStorage.getItem('token')+'&id_user='+sessionStorage.getItem('id_user'))\r\n      .then(response => {\r\n        return response.json()\r\n      })\r\n      .then(\r\n        (json) => {         \r\n          this.setState({\r\n            isLoaded: true,\r\n            blok: json\r\n          });\r\n        },\r\n    )\r\n  }\r\n\r\n  fetchpolygon() {\r\n    fetch('http://localhost:8000/api/polygon/view?token='+sessionStorage.getItem('token'))\r\n      .then(response => response.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            dummy: result\r\n          });\r\n        },\r\n      )\r\n  }\r\n\r\n  viewpolygon(id_blok){\r\n    //alert(id_blok)\r\n    var raw=this.state.dummy\r\n    console.log(raw)\r\n\r\n    \r\n\r\n\r\n    raw = raw.filter(function(item){\r\n      return item.id_blok === id_blok\r\n    })\r\n\r\n    var data=[]\r\n\r\n    raw.map((items)=>{\r\n      data.push({lat:parseFloat(items.lat),lng:parseFloat(items.lng)})\r\n      this.setState({\r\n        lat:items.lat,\r\n        lng:items.lng\r\n      })\r\n    })\r\n\r\n    console.log(data)\r\n    return data\r\n  }\r\n\r\n  createpolygon(items) {\r\n\r\n    fetch('http://localhost:8000/api/polygon/create?token=' + sessionStorage.getItem('token'), {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id_blok: this.state.idblokaktif,\r\n        lat: items.lat,\r\n        lng: items.lng,\r\n      })\r\n    })\r\n  }\r\n\r\n  detelepolygon() {\r\n\r\n    fetch('http://localhost:8000/api/polygon/delete/'+this.state.idblokaktif + \"?token=\" + sessionStorage.getItem('token'), {\r\n      method: 'DELETE',\r\n    })\r\n  }\r\n\r\n  handleEdit() {\r\n\r\n      this.detelepolygon()\r\n\r\n      this.state.newpolygon.map((items) => {\r\n        this.createpolygon(items)\r\n      })\r\n    \r\n\r\n    fetch('http://localhost:8000/api/blok/edit/' + this.state.idblokaktif + \"?token=\" + sessionStorage.getItem('token'), {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        kode_blok: this.state.kodetpuaktif+'-'+this.state.kodeaktif,\r\n        id_tpu: this.state.idtpuaktif,\r\n      })\r\n    }).then((response) => response.json())\r\n    .then((responseJson) => {\r\n      alert(responseJson)\r\n    }).then(\r\n      this.setState({\r\n        edit: !this.state.edit\r\n      })\r\n    ).then(\r\n      this.fetchblok,\r\n    ).then(\r\n      this.fetchpolygon\r\n    ).catch((err)=>{\r\n      this.setState({\r\n        isLoaded: false\r\n      })\r\n      alert(\"Permintaan tidak dapat diproses\")\r\n    })\r\n  }\r\n\r\n  handleCreate() {\r\n\r\n    fetch('http://localhost:8000/api/blok/create?token=' + sessionStorage.getItem('token'), {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        id_tpu: this.state.idtpuaktif,\r\n        kode_blok: this.state.kodetpuaktif+'-'+this.state.kodeaktif,\r\n\r\n      })\r\n    }).then(response => response.json())\r\n    .then(\r\n      (result) => {\r\n        if(result.message==null){\r\n          this.state.newpolygon.map((items) => {\r\n            fetch('http://localhost:8000/api/polygon/create?token=' + sessionStorage.getItem('token'), {\r\n              method: 'POST',\r\n              headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify({\r\n                id_blok: result.id_blok,\r\n                lat: items.lat,\r\n                lng: items.lng,\r\n              })\r\n            })\r\n          })\r\n          alert(\"pembuatan blokmakam sukses\")\r\n        }else{\r\n          alert(\"pembuatan blokmakam gagal\")\r\n        }\r\n      }\r\n    )\r\n    .then(\r\n      this.setState({\r\n        create: !this.state.create\r\n      })\r\n    ).then(\r\n      this.fetchblok,\r\n    ).then(\r\n      this.fetchpolygon\r\n    ).catch((err)=>{\r\n      this.setState({\r\n        isLoaded: false\r\n      })\r\n      alert(\"Permintaan tidak dapat diproses\")\r\n    })\r\n  }\r\n\r\n  handleDelete() {\r\n\r\n    this.detelepolygon();\r\n\r\n    fetch('http://localhost:8000/api/blok/delete/' + this.state.idblokaktif + \"?token=\" + sessionStorage.getItem('token'), {\r\n      method: 'DELETE',\r\n    }).then((response) => response.json())\r\n    .then((responseJson) => {alert(responseJson)}).then(\r\n      this.fetchblok()\r\n    ).then(\r\n      this.setState({\r\n        small: !this.state.small\r\n      })\r\n    ).then(\r\n      this.fetchblok\r\n    ).catch((err)=>{\r\n      this.setState({\r\n        isLoaded: false\r\n      })\r\n      alert(\"Permintaan tidak dapat diproses\")\r\n    })\r\n  }\r\n\r\n  mapClicked(mapProps, map, event) {\r\n    this.setState({\r\n      newpolygon:this.state.newpolygon.concat({lat:event.latLng.lat(),lng:event.latLng.lng()}),\r\n      lat:event.latLng.lat(),\r\n      lng:event.latLng.lng()\r\n    })\r\n\r\n  }\r\n\r\n  handleKode = event => {\r\n    this.setState({ kodeaktif: event.target.value });\r\n  }\r\n\r\n  handleChangeOption = event => {\r\n    var tpu = event.target.value.split(',') \r\n    this.setState({ idtpuaktif: tpu[0] , kodetpuaktif: tpu[1]});\r\n  }\r\n\r\n\r\n\r\n  toggle() {\r\n    this.setState({\r\n      dropdownOpen: !this.state.dropdownOpen,\r\n    });\r\n  }\r\n\r\n  onRadioBtnClick(radioSelected) {\r\n    this.setState({\r\n      radioSelected: radioSelected,\r\n    });\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  }\r\n\r\n\r\n  toggleSmall(items) {\r\n    this.setState({\r\n      small: !this.state.small,\r\n      idblokaktif: items.id_blok,\r\n    });\r\n  }\r\n\r\n  toggleEdit(items) {\r\n    var blok=items.kode_blok.split('-')\r\n    this.setState({\r\n      newpolygon: [],\r\n      edit: !this.state.edit,\r\n      kodetpuaktif:items.kode_tpu,\r\n      idblokaktif: items.id_blok,\r\n      idtpuaktif: items.id_tpu,\r\n      kodeaktif: blok[1],\r\n    });\r\n  }\r\n\r\n\r\n  toggleEditclose() {\r\n    this.setState({\r\n      edit: !this.state.edit,\r\n    });\r\n  }\r\n\r\n  toggleCreate() {\r\n    this.setState({\r\n      newpolygon: [],\r\n      create: !this.state.create,\r\n    });\r\n  }\r\n  \r\n  toggleLocation(items){\r\n    var data=this.viewpolygon(items.id_blok)\r\n    this.setState({\r\n      polygon: data,\r\n      location: !this.state.location,\r\n    })\r\n  }\r\n\r\n  toggleLocationClose(){\r\n    this.setState({\r\n      location: !this.state.location,\r\n      lat:this.state.lat,\r\n      lng:this.state.lng,\r\n    })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    // const {isLoaded, items} = this.state;\r\n    if (!this.state.isLoaded) {\r\n      return (<div style={{ display: 'flex', justifyContent: 'center', margin: 100 }}>\r\n        <div className='sweet-loading'>\r\n          <RingLoader\r\n            color={'#123abc'}\r\n          />\r\n        </div>\r\n      </div>)\r\n    } else {\r\n      if (sessionStorage.getItem('login_session') == 1) {\r\n        return (\r\n          <div className=\"animated fadeIn\">\r\n            <Row>\r\n              <Col>\r\n                <Modal isOpen={this.state.edit} toggle={this.toggleEditclose}\r\n                  className={'modal-sm ' + this.props.className}>\r\n                  <ModalHeader toggle={this.toggleEditclose}>edit</ModalHeader>\r\n                  <ModalBody>\r\n                    <Row>\r\n                      <Col xs=\"12\">\r\n                        <div className=\"small text-muted\">\r\n                          <span>Kode Blok</span>\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                    <br/>\r\n                    <Row>\r\n                      <Col xs=\"12\">\r\n                          <select class=\"form-control\" onChange={this.handleChangeOption}>\r\n                            {this.state.tpu.map((tpu) => {\r\n                              return (\r\n                                <option value={tpu.id_tpu+','+tpu.kode_tpu} selected={tpu.id_tpu==this.state.idtpuaktif}>{tpu.nama_tpu}</option>\r\n                              )\r\n                            })}\r\n                          </select>    \r\n                          <br/>\r\n                            <Input onChange={this.handleKode} type=\"text\" id=\"input1-group3\" name=\"input1-group3\" value={this.state.kodeaktif} />\r\n                          <hr/>\r\n                          <Row>\r\n                                      <Col style={{\r\n                                          height:'50vh',\r\n                                          width:'5vw'\r\n                                        }}>\r\n                                       <Map \r\n                                        onClick={this.mapClicked} \r\n                                        google={this.props.google} zoom={14}\r\n                                        initialCenter={{lat:this.state.lat,lng:this.state.lng}}\r\n                                        zoom={16}\r\n                                        style={{width:'90%'}}\r\n                                        >\r\n\r\n                                         <Polygon\r\n                                          paths={this.state.newpolygon}\r\n                                          strokeColor=\"#0000FF\"\r\n                                          strokeOpacity={0.8}\r\n                                          strokeWeight={2}\r\n                                          fillColor=\"#0000FF\"\r\n                                          fillOpacity={0.35} /> \r\n\r\n                                        <Marker position={{ lat: this.state.lat, lng: this.state.lng }}onClick={this.onMarkerClick}\r\n                                                name={'Current location'} />\r\n\r\n                                        <InfoWindow onClose={this.onInfoWindowClose}>\r\n                                            <div>\r\n                                              <h1>Lalala</h1>\r\n                                            </div>\r\n                                        </InfoWindow>\r\n                                        </Map>\r\n                                    </Col>\r\n                          </Row>\r\n                      </Col>\r\n                    </Row>\r\n                  </ModalBody>\r\n                  <ModalFooter>\r\n                    <Button color=\"success\" onClick={this.handleEdit}>edit</Button>{' '}\r\n                    <Button color=\"secondary\" onClick={this.toggleEditclose}>Cancel</Button>\r\n                  </ModalFooter>\r\n                </Modal>\r\n                <Modal isOpen={this.state.create} toggle={this.toggleCreate}\r\n                  className={'modal-sm ' + this.props.className}>\r\n                  <ModalHeader toggle={this.toggleCreate}>Buat Baru</ModalHeader>\r\n                  <ModalBody>\r\n                    <Row>\r\n                      <Col xs=\"12\">\r\n                        <div className=\"small text-muted\">\r\n                          <span>Masukan Data</span>\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                    <br/>\r\n                          <select class=\"form-control\" onChange={this.handleChangeOption}>\r\n                            <option value=''>Pilih Tpu</option>\r\n                            {this.state.tpu.map((tpu) => {\r\n                              return (\r\n                                <option value={tpu.id_tpu+','+tpu.kode_tpu}>{tpu.nama_tpu}</option>\r\n                              )\r\n                            })}\r\n                          </select>       \r\n                    <br/>\r\n                    <Row>\r\n                      <Col xs=\"12\">\r\n                        <Input onChange={this.handleKode} type=\"text\" id=\"input1-group3\" name=\"input1-group3\" placeholder='Kode Blok' />\r\n                      </Col>\r\n                    </Row>\r\n                    <hr/>\r\n                                    <Row>\r\n                                      <Col style={{\r\n                                          height:'50vh',\r\n                                          width:'5vw'\r\n                                        }}>\r\n                                       <Map \r\n                                        onClick={this.mapClicked} \r\n                                        google={this.props.google} zoom={14}\r\n                                        initialCenter={{lat:this.state.lat,lng:this.state.lng}}\r\n                                        zoom={15}\r\n                                        style={{width:'90%'}}\r\n                                        >\r\n\r\n                                         <Polygon\r\n                                          paths={this.state.newpolygon}\r\n                                          strokeColor=\"#0000FF\"\r\n                                          strokeOpacity={0.8}\r\n                                          strokeWeight={2}\r\n                                          fillColor=\"#0000FF\"\r\n                                          fillOpacity={0.35} /> \r\n\r\n                                        <Marker position={{ lat: this.state.lat, lng: this.state.lng }}onClick={this.onMarkerClick}\r\n                                                name={'Current location'} />\r\n\r\n                                        <InfoWindow onClose={this.onInfoWindowClose}>\r\n                                            <div>\r\n                                              <h1>Lalala</h1>\r\n                                            </div>\r\n                                        </InfoWindow>\r\n                                        </Map>\r\n                                    </Col>\r\n                                  </Row>\r\n                  </ModalBody>\r\n                  <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.handleCreate}>Buat</Button>\r\n                    <Button color=\"secondary\" onClick={this.toggleCreate}>Batal</Button>\r\n                  </ModalFooter>\r\n                </Modal>\r\n                            <Modal isOpen={this.state.small} toggle={this.toggleSmall}\r\n                              className={'modal-sm ' + this.props.className}>\r\n                              <ModalHeader toggle={this.toggleSmall}></ModalHeader>\r\n                              <ModalBody>\r\n            -                    <br /><br /><br />\r\n                                <strong>Apakah anda yakin ingin menghapus makam {this.state.idblokaktif} ?</strong>\r\n                              </ModalBody>\r\n                              <ModalFooter>\r\n                                <Button color=\"danger\" onClick={() => this.handleDelete()}>hapus</Button>{' '}\r\n                                <Button color=\"secondary\" onClick={this.toggleSmall}>batal</Button>\r\n                              </ModalFooter>\r\n                            </Modal>\r\n\r\n                            <Modal isOpen={this.state.location} toggle={this.toggleLocationClose}\r\n                                  className={'modal-large ' + this.props.className}>\r\n                              <ModalHeader toggle={this.toggleLocation}>Poligon Blok Makam</ModalHeader>\r\n                              <ModalBody>\r\n                              <div >\r\n                                  <Row>\r\n                                    <Col style={{height:'50vh'}}>\r\n                                      <Map \r\n                                        google={this.props.google} \r\n                                        initialCenter={{lat:this.state.lat,lng:this.state.lng}}\r\n                                        zoom={15}     \r\n                                        style={{width:'95%'}}                                  \r\n                                      >\r\n\r\n                                        <Polygon\r\n                                          paths={this.state.polygon}\r\n                                          strokeColor=\"#0000FF\"\r\n                                          strokeOpacity={0.8}\r\n                                          strokeWeight={2}\r\n                                          fillColor=\"#0000FF\"\r\n                                          fillOpacity={0.35} /> \r\n\r\n                                        <InfoWindow onClose={this.onInfoWindowClose}>\r\n                                            <div>\r\n                                              <h1>Lalala</h1>\r\n                                            </div>\r\n                                        </InfoWindow>\r\n                                      </Map>\r\n                                    </Col>\r\n                                  </Row>\r\n                              </div>\r\n                              </ModalBody>\r\n                              <ModalFooter>\r\n                                <Button color=\"secondary\" onClick={this.toggleLocationClose}>Tutup</Button>\r\n                              </ModalFooter>\r\n                            </Modal>\r\n                <Card>\r\n                  <CardHeader>\r\n                    <Row>\r\n                      <Col col=\"10\" ><strong>Manajemen Blok Makam</strong></Col>\r\n                      <Col col=\"2\" className=\"text-right\">\r\n                        <Button onClick={this.toggleCreate} outline color=\"primary\">Create</Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </CardHeader>\r\n                  <CardBody>\r\n                    <ReactTable\r\n                      data={this.state.blok}\r\n                      defaultPageSize={10}\r\n                      filterable\r\n                      columns={[\r\n                        { accessor: 'id_blok', show: false },\r\n                        { accessor: 'id_tpu', show: false },\r\n                        { accessor: 'kode_tpu', show: false },\r\n                        {\r\n                          Header: 'Kode Blok',\r\n                          accessor: 'kode_blok' // String-based value accessors!\r\n                        },\r\n                        {\r\n                          Header: 'TPU',\r\n                          accessor: 'nama_tpu', // String-based value accessors!\r\n                          Cell: row => (\r\n                            <div>\r\n                              {row.row.nama_tpu}\r\n                            </div>\r\n                          )\r\n                        },\r\n                        {\r\n                          Header: 'Actions',\r\n                          accessor: 'id_blok', // String-based value accessors!\r\n                          filterable: false,\r\n                          Cell: row => (\r\n                            <div>\r\n                              <Row>\r\n                                  &emsp;\r\n                                  <Button onClick={()=>this.toggleLocation(row.row)} outline color=\"primary\"><i className=\"cui-location-pin icons text-left\"></i></Button>\r\n                                  &emsp;\r\n                                  <Button onClick={() => this.toggleEdit(row.row)} outline color=\"success\"><i className=\"cui-pencil icons text-left\"></i></Button>\r\n                                  &emsp;\r\n                                  <Button onClick={() => this.toggleSmall(row.row)}  outline color=\"danger\"><i className=\"cui-circle-x icons text-left\"></i></Button>\r\n                              </Row>\r\n                            </div>\r\n                          )\r\n                        },\r\n                      ]}\r\n                    />\r\n                    <hr></hr>\r\n                  </CardBody>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        );\r\n      } else if (sessionStorage.getItem('login_session') == \"0\") {\r\n        return (\r\n          <div>\r\n            {alert(\"Anda tidak memiliki hak akses!\")}\r\n            <Redirect to=\"/login\" />\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <Redirect to=\"/404\" />\r\n        );\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: ('AIzaSyDTUAyUGbuCXiRX6ywsz4ZIAf_jDPPRwUM')\r\n})(BlokMakam)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/AdminTPU/ManajemenBlokMakam/BlokMakam.js"],"sourceRoot":""}